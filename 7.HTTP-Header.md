
# ğŸ“‘ HTTP í—¤ë” ê°œìš”
## HTTP í—¤ë”
### ìš©ë„
- HTTP ì „ì†¡ì— í•„ìš”í•œ ëª¨ë“  ë¶€ê°€ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆìŒ
- í‘œì¤€ í—¤ë”ê°€ ë„ˆë¬´ ë§ê³ , í•„ìš”ì‹œ ì„ì˜ì˜ í—¤ë” ì¶”ê°€ ê°€ëŠ¥

### ê³¼ê±°ì˜ HTTP (RFC2616)
#### HTTP Header
- General í—¤ë” : ë©”ì‹œì§€ ì „ì²´ì— ì ìš©ë˜ëŠ” ì •ë³´
- Request í—¤ë” : ìš”ì²­ ì •ë³´
- Response í—¤ë” : ì‘ë‹µ ì •ë³´
- Entity í—¤ë” :  ì—”í‹°í‹° ë°”ë”” ì •ë³´ (ex. Content-Type : text/html, Content-Length: 3423)

#### HTTP Body
- ë©”ì‹œì§€ ë³¸ë¬¸ì€ ì—”í‹°í‹° ë³¸ë¬¸ì„ ì „ë‹¬í•˜ëŠ”ë° ì‚¬ìš©
- ì—”í‹°í‹° ë³¸ë¬¸ì€ ìš”ì²­ì´ë‚˜ ì‘ë‹µì—ì„œ ì „ë‹¬í•  ì‹¤ì œ ë°ì´í„°
- **ì—”í‹°í‹° í—¤ë”**ëŠ” **ì—”í‹°í‹° ë³¸ë¬¸**ì˜ **ë°ì´í„°ë¥¼ í•´ì„í•  ìˆ˜ ìˆëŠ” ì •ë³´**ë¥¼ ì œê³µ
  - Content-Type, Content-Length


> ### But..
> - ~~1999ë…„ RFC2616 íê¸°~~
> - 2014ë…„ RFC7230 ~ 7235 ë“±ì¥


## HTTP BODY
> ğŸˆ **RFC723x ë³€í™”**
> - ì—”í‹°í‹°(Entity) -> í‘œí˜„(Representation)
> - Representation = representation Metadata + Representation Data
> - í‘œí˜„ = í‘œí˜„ ë©”íƒ€ë°ì´í„° + í‘œí˜„ ë°ì´í„°

 message body - RFC7230(ìµœì‹ )
 - ë©”ì‹œì§€ ë³¸ë¬¸ì„ í†µí•´ í‘œí˜„ ë°ì´í„° ì „ë‹¬
 - ë©”ì‹œì§€ ë³¸ë¬¸ = payload
 - **í‘œí˜„** : ìš”ì²­ì´ë‚˜ ì‘ë‹µì—ì„œ **ì „ë‹¬í•  ì‹¤ì œ ë°ì´í„°**
 - **í‘œí˜„í—¤ë”** : í‘œí˜„ ë°ì´í„°ë¥¼ í•´ì„í•  ìˆ˜ ìˆëŠ” ì •ë³´ ì œê³µ

# âœ¨ í‘œí˜„
 - Content-Type: í‘œí˜„ ë°ì´í„°ì˜ í˜•ì‹ (html, JSON)
 - Content-Encoding : í‘œí˜„ ë°ì´í„°ì˜ ì••ì¶• ë°©ì‹ 
 - Content-Language: í‘œí˜„ ë°ì´í„°ì˜ ìì—° ì–¸ì–´
 - Content-Length: í‘œí˜„ ë°ì´í„°ì˜ ê¸¸ì´ [Payload í—¤ë”]
 `í‘œí˜„ í—¤ë”ëŠ” ì „ì†¡, ì‘ë‹µì„ ë‘˜ ë‹¤ ì‚¬ìš©`
 
 
## Content-Type
**í‘œí˜„ ë°ì´í„°ì˜ í˜•ì‹ ì„¤ëª…**
- ë¯¸ë””ì–´ íƒ€ì…, ë¬¸ì ì¸ì½”ë”©
  - text/html; charset=utf-8
  - application/json
  - image/png

## Content-Encoding
**í‘œí˜„ ë°ì´í„° ì¸ì½”ë”©**
- í‘œí˜„ ë°ì´í„°ë¥¼ ì••ì¶•í•˜ê¸° ìœ„í•´ ì‚¬ìš©
- ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê³³ì—ì„œ gzipê³¼ ê°™ì´ ì••ì¶• í›„ ì¸ì½”ë”© í—¤ë” ì¶”ê°€
- ë°ì´í„°ë¥¼ ì½ëŠ” ìª½ì—ì„œ ì¸ì½”ë”© í—¤ë”ì˜ ì •ë³´ë¡œ ì••ì¶• í•´ì œ

> ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ê³³ì—ì„œ ì–´ë–»ê²Œ ì••ì¶•í–ˆëŠ”ì§€ ì•Œë ¤ì£¼ê³   
> ê·¸ ë‚´ìš©ì„ í† ëŒ€ë¡œ ì½ëŠ” ìª½ì—ì„œ ì••ì¶•ì„ í•´ì œ!

## Content-Language
- í‘œí˜„ ë°ì´í„°ì˜ ìì—° ì–¸ì–´(en, ko, en-US)ë¥¼ í‘œí˜„
- í´ë¼ì´ì–¸íŠ¸ê°€ ì–¸ì–´ë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…

## Content-Length
**í‘œí˜„ ë°ì´í„°ì˜ ê¸¸ì´**
- ë°”ì´íŠ¸ ë‹¨ìœ„
- Transfer-Encodingì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©í•˜ë©´ ì•ˆë¨!

# ğŸ’¡ ì½˜í…ì¸  í˜‘ìƒ(Content negotiation)
**í´ë¼ì´ì–¸íŠ¸ê°€ ì„ í˜¸í•˜ëŠ” í‘œí˜„ ìš”ì²­**
> í´ë¼ì´ì–¸íŠ¸ê°€ ì›í•˜ëŠ” í‘œí˜„ìœ¼ë¡œ ì„œë²„ê°€ ì „ë‹¬

- Accept: í´ë¼ì´ì–¸íŠ¸ê°€ ì„ í˜¸í•˜ëŠ” ë¯¸ë””ì–´ íƒ€ì… ì „ë‹¬
- Accept-Charset: í´ë¼ì´ì–¸íŠ¸ê°€ ì„ í˜¸í•˜ëŠ” ë¬¸ì ì¸ì½”ë”©
- Accept-Encoding: í´ë¼ì´ì–¸íŠ¸ê°€ ì„ í˜¸í•˜ëŠ” ì••ì¶• ì¸ì½”ë”©
- Accept-Language: í´ë¼ì´ì–¸íŠ¸ê°€ ì„ í˜¸í•˜ëŠ” ìì—° ì–¸ì–´

**`í˜‘ìƒ í—¤ë”ëŠ” ìš”ì²­ì‹œì—ë§Œ!`**

## Accept-Language ì ìš© ì „
![](https://velog.velcdn.com/images/f1v3/post/e4860cf2-d0c9-4a5a-8732-236caca1c8ec/image.png)

ì„œë²„ëŠ” ê¸°ë³¸ ê°’ì¸ ì˜ì–´ë¡œ ì‘ë‹µì„ í•´ì¤€ë‹¤

## Accept-Language ì ìš© í›„ 
![](https://velog.velcdn.com/images/f1v3/post/3e194f19-d7aa-41ab-b0d1-c22091b1b93b/image.png)  
ê¸°ë³¸ ì–¸ì–´ê°€ ì˜ì–´ì§€ë§Œ í•œêµ­ì–´ë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— í•œêµ­ì–´ë¡œ ì‘ë‹µ

## Accept-Language ë³µì¡í•œ ì˜ˆì‹œ
![](https://velog.velcdn.com/images/f1v3/post/a281d0b9-e3ab-46b9-a5d9-10bf3c70501e/image.png)  

ë…ì¼ì–´ë³´ë‹¤ëŠ” ì˜ì–´ë¥¼ ì›í•˜ì§€ë§Œ ê¸°ë³¸ ì–¸ì–´ì¸ ë…ì¼ì–´ë¥¼ ë³´ëƒ„

> ìš°ì„ ìˆœìœ„ê°€ í•„ìš”í•˜ë‹¤!

## í˜‘ìƒê³¼ ìš°ì„ ìˆœìœ„1 

-  **Quality Values(q)** ê°’ ì‚¬ìš©
- 0 ~ 1, **í´ìˆ˜ë¡ ë†’ì€ ìš°ì„ ìˆœìœ„**
- ìƒëµí•˜ë©´ 1

> ![](https://velog.velcdn.com/images/f1v3/post/9ae99aee-afbe-42f4-a0ff-3942d4d82a18/image.png)
> ìœ„ì™€ ê°™ì´ ë³´ë‚´ê²Œ ëœë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ?
>![](https://velog.velcdn.com/images/f1v3/post/780e834d-8926-465f-aafa-54857a7b1fbd/image.png)

**êµ¬ê¸€ì— helloë¼ê³  ì³¤ì„ ë•Œ**  
![](https://velog.velcdn.com/images/f1v3/post/bba78853-7774-44f0-ab8d-d06c2fe119bc/image.png)


## í˜‘ìƒê³¼ ìš°ì„ ìˆœìœ„2
- êµ¬ì²´ì ì¸ ê²ƒì´ ìš°ì„ í•œë‹¤.
- Accept: **text/*, text/plain, text/plain;format=flowed, \*/\***

## í˜‘ìƒê³¼ ìš°ì„ ìˆœìœ„3
- êµ¬ì²´ì ì¸ ê²ƒì„ ê¸°ì¤€ìœ¼ë¡œ ë¯¸ë””ì–´ íƒ€ì…ì„ ë§ì¶˜ë‹¤.
- **Accept: text/*;q=0.3, text/html;q=0.7, text/html;level=1,
 text/html;level=2;q=0.4, \*/\*;q=0.5**  
   ![](https://velog.velcdn.com/images/f1v3/post/96f6a648-c8e0-492d-af53-8b4b8cfcbc54/image.png)
